@layer theme, base, antd, components, utilities;

@import 'tailwindcss/theme.css' layer(theme);
@import 'tailwindcss/preflight.css' layer(base);
@import 'tailwindcss/utilities.css' layer(utilities);

@plugin './../../plugins/tailwind-color';
@plugin './../../plugins/tailwind-scrollbar';
@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  @font-face {
    font-family: 'Poppins';
    src: url('/fonts/poppins/Poppins-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
  }

  @font-face {
    font-family: 'Poppins';
    src: url('/fonts/poppins/Poppins-SemiBold.ttf') format('truetype');
    font-weight: 600;
    font-style: normal;
  }

  @font-face {
    font-family: 'Poppins';
    src: url('/fonts/poppins/Poppins-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
  }

  body:not(#content-ui) {
    @apply relative font-['Poppins']!;
  }
  * {
    @apply scrollbar:size-1 scrollbar-track:bg-neutral-100 scrollbar-thumb:bg-neutral-400 scrollbar-thumb:rounded-full scrollbar-thumb:hover:bg-neutral-500 dark:scrollbar-track:bg-neutral-800 dark:scrollbar-thumb:bg-neutral-600 selection:bg-app-500 selection:text-white;
  }
}
@layer components {
  .bg-theme {
    @apply bg-white dark:bg-neutral-950;
  }
  .bg-theme-inverse {
    @apply bg-neutral-950 dark:bg-white;
  }
  .text-theme {
    @apply text-black dark:text-white;
  }
  .text-theme-inverse {
    @apply text-white dark:text-black;
  }
  .border-theme {
    @apply border-gray-200 dark:border-white/20;
  }
  .divide-theme {
    @apply divide-gray-100 dark:divide-white/20;
  }
  .bg-grid-pattern {
    @apply bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size-[24px_24px];
  }
  .bg-dotted-pattern {
    @apply bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] bg-size-[16px_16px] dark:bg-[radial-gradient(#000000_1px,transparent_1px)];
  }
  .flex-center {
    @apply flex items-center justify-center;
  }
  .flex-col-center {
    @apply flex flex-col items-center justify-center;
  }
  .ant-form-item:last-of-type {
    @apply mb-0;
  }
  .underline {
    @apply hover:text-app-500 decoration-app-500 dark:decoration-app-400 dark:hover:decoration-app-500 rounded-sm underline decoration-2 underline-offset-2 transition duration-100;
  }
  .ant-app {
    @apply flex h-[inherit] flex-col;
  }
  .glass {
    @apply from-app-500/50 w-full rounded-lg bg-linear-to-r to-black/50 p-6 shadow-md backdrop-blur-md;
  }
  .preview-area * {
    @apply transition-all duration-100 ease-in-out;
  }
  .hover-scale {
    @apply relative grid aspect-square h-12 w-12 grid-cols-3 place-content-around place-items-center rounded-lg border border-gray-200 bg-white p-1 shadow transition-all duration-200 ease-in-out hover:scale-[1.4] dark:border-white/20 dark:bg-black;
  }
  .stack {
    @apply grid;
  }

  .stack > * {
    @apply z-1 col-start-1 row-start-1 h-full min-h-[30px] w-full;
    transform: translateY(-16%) scale(0.8);
  }
  .stack > :first-child {
    @apply z-3;
    transform: translateY(0);
  }
  .stack > :nth-child(2) {
    @apply z-2;
    transform: translateY(-8%) scale(0.9);
  }
  .stack > :nth-child(3) {
    @apply z-1;
    transform: translateY(-24%) scale(0.7);
  }

  .animate-spark {
    /* 0.8s spark + 1s pause = 1.8s total */
    animation: spark 1.8s ease-out infinite;
  }

  .animate-spark-fast {
    /* 0.5s spark + 1s pause = 1.5s total */
    animation: spark-fast 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  }
  .animate-wheel-normal {
    animation: wheel-rotate 2s linear infinite;
  }
  .animate-wheel-fast {
    animation: wheel-rotate 1s linear infinite;
  }
  .animate-wheel-slow {
    animation: wheel-rotate 4s linear infinite;
  }
  .resize-handle {
    @apply border-app-500 absolute h-3 w-3 rounded-full border-2 bg-white;
  }
  .add-border {
    @apply rounded-md border border-gray-200 p-2;
  }
  .lined-border {
    background: 
    /* Top edge - vertical dashes */
      repeating-linear-gradient(
          to right,
          transparent 0px,
          transparent 5px,
          #000000 5px,
          #000000 6px,
          transparent 6px,
          transparent 15px
        )
        top / 100% 5px no-repeat,
      /* Bottom edge - vertical dashes */
        repeating-linear-gradient(
          to right,
          transparent 0px,
          transparent 5px,
          #000000 5px,
          #000000 6px,
          transparent 6px,
          transparent 15px
        )
        bottom / 100% 5px no-repeat,
      /* Left edge - horizontal dashes */
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent 5px,
          #000000 5px,
          #000000 6px,
          transparent 6px,
          transparent 15px
        )
        left / 5px 100% no-repeat,
      /* Right edge - horizontal dashes */
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent 5px,
          #000000 5px,
          #000000 6px,
          transparent 6px,
          transparent 15px
        )
        right / 5px 100% no-repeat,
      /* Main background */ #e5e7eb;
  }
  .lined-border-dark {
    background: 
    /* Top edge - vertical dashes */
      repeating-linear-gradient(
          to right,
          transparent 0px,
          transparent 5px,
          #e5e7eb 5px,
          #e5e7eb 6px,
          transparent 6px,
          transparent 15px
        )
        top / 100% 5px no-repeat,
      /* Bottom edge - vertical dashes */
        repeating-linear-gradient(
          to right,
          transparent 0px,
          transparent 5px,
          #e5e7eb 5px,
          #e5e7eb 6px,
          transparent 6px,
          transparent 15px
        )
        bottom / 100% 5px no-repeat,
      /* Left edge - horizontal dashes */
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent 5px,
          #e5e7eb 5px,
          #e5e7eb 6px,
          transparent 6px,
          transparent 15px
        )
        left / 5px 100% no-repeat,
      /* Right edge - horizontal dashes */
        repeating-linear-gradient(
          to bottom,
          transparent 0px,
          transparent 5px,
          #e5e7eb 5px,
          #e5e7eb 6px,
          transparent 6px,
          transparent 15px
        )
        right / 5px 100% no-repeat,
      /* Main background */ #000000;
  }
}

@layer utilities {
  @keyframes spark {
    /* spark happens here */
    0% {
      opacity: 0;
      transform: scale(0.6);
    }

    15% {
      opacity: 1;
      transform: scale(1.1);
    }

    40% {
      opacity: 0.8;
      transform: scale(1);
    }

    /* pause zone */
    60%,
    100% {
      opacity: 0;
      transform: scale(0.8);
    }
  }

  @keyframes spark-fast {
    /* spark */
    0% {
      opacity: 0;
      transform: scale(0.5);
    }

    20% {
      opacity: 1;
      transform: scale(1.15);
    }

    50% {
      opacity: 0.6;
    }

    /* pause */
    65%,
    100% {
      opacity: 0;
      transform: scale(0.7);
    }
  }
  @keyframes wheel-rotate {
    0% {
      transform: rotate(0deg);
    }
    80% {
      transform: rotate(360deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
  @keyframes rainbow {
    0% {
      background-position: 0% 50%;
    }
    100% {
      background-position: 200% 50%;
    }
  }

  .animate-rainbow {
    animation: rainbow 3s linear infinite;
  }

  .animate-rainbow::before {
    animation: rainbow 3s linear infinite;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-spark,
  .animate-spark-fast,
  .animate-wheel-normal,
  .animate-wheel-slow,
  .animate-wheel-fast {
    animation: none;
  }
}
